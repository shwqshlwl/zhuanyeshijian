# ✅ 前端输入框功能已添加

## 更新内容

已在实验答题页面（`answer.vue`）添加了测试输入框功能。

## 功能说明

### 1. 输入框位置

输入框位于代码编辑器下方，"运行测试"按钮上方。

### 2. 使用方法

1. **编写代码**：在代码编辑器中编写程序
2. **输入测试数据**：在"测试输入"框中输入数据
   - 单行输入：直接输入数字或文本
   - 多行输入：按回车键换行
3. **点击"运行测试"**：查看运行结果

### 3. 示例

#### 示例 1：两数相加

**代码**：
```python
a = int(input())
b = int(input())
print(a + b)
```

**测试输入**：
```
5
3
```

**输出结果**：
```
8
```

#### 示例 2：带提示的输入

**代码**：
```python
name = input("请输入你的名字: ")
age = input("请输入你的年龄: ")
print(f"你好, {name}! 你今年 {age} 岁。")
```

**测试输入**：
```
张三
20
```

**输出结果**：
```
请输入你的名字: 请输入你的年龄: 你好, 张三! 你今年 20 岁。
```

#### 示例 3：循环输入

**代码**：
```python
n = int(input())
total = 0
for i in range(n):
    num = int(input())
    total += num
print(total)
```

**测试输入**：
```
3
10
20
30
```

**输出结果**：
```
60
```

## 界面特性

### 1. 输入框样式
- 📝 等宽字体（Consolas/Monaco）
- 📏 4 行高度，可自动扩展
- 🎨 浅灰色背景，清晰易读
- ❓ 带有帮助提示图标

### 2. 占位符提示
```
请输入测试数据（多行输入请按回车换行）
例如：
5
3
```

### 3. 帮助提示
鼠标悬停在问号图标上会显示：
> "如果程序需要输入数据，请在此输入。多行输入请按回车换行。"

## 技术实现

### 前端修改

1. **添加输入框组件**
```vue
<div class="input-section">
  <div class="input-header">
    <el-icon><Edit /></el-icon>
    <span>测试输入（可选）</span>
    <el-tooltip content="..." placement="top">
      <el-icon class="help-icon"><QuestionFilled /></el-icon>
    </el-tooltip>
  </div>
  <el-input
    v-model="testInput"
    type="textarea"
    :rows="4"
    placeholder="..."
    class="input-textarea"
  />
</div>
```

2. **添加响应式变量**
```javascript
const testInput = ref('') // 测试输入
```

3. **更新运行函数**
```javascript
const handleRun = async () => {
  // ...
  const res = await request({
    url: `/experiments/${experimentId}/run`,
    method: 'post',
    data: { 
      code: code.value, 
      language: selectedLanguage.value,
      input: testInput.value // 传递输入数据
    }
  })
  // ...
}
```

### 后端支持

后端已经支持 `input` 参数：

```java
@PostMapping("/{id}/run")
public Result<Map<String, Object>> runCode(
    @PathVariable Long id,
    @RequestBody Map<String, String> request) {
    String code = request.get("code");
    String language = request.get("language");
    String input = request.get("input"); // 支持输入
    // ...
}
```

## 使用场景

### 场景 1：调试程序
学生在编写需要输入的程序时，可以：
1. 在输入框中输入测试数据
2. 点击"运行测试"查看结果
3. 根据结果调整代码
4. 重复测试直到正确

### 场景 2：验证逻辑
在提交前验证程序逻辑：
1. 使用示例输入测试
2. 使用边界值测试
3. 使用特殊情况测试
4. 确认无误后提交

### 场景 3：对比输出
参考题目中的示例：
1. 复制示例输入到输入框
2. 运行程序
3. 对比输出是否与示例一致

## 注意事项

### 1. 输入格式
- ✅ 每行一个输入值
- ✅ 按回车键换行
- ✅ 不要添加多余的空格或空行
- ✅ 输入框为可选，不需要输入时可留空

### 2. 输入与代码匹配
确保输入数据与代码的 `input()` 调用次数匹配：

**错误示例**：
```python
# 代码需要 2 个输入
a = int(input())
b = int(input())
```
```
# 但只提供了 1 个输入
5
```
❌ 会导致程序等待输入而超时

**正确示例**：
```python
# 代码需要 2 个输入
a = int(input())
b = int(input())
```
```
# 提供 2 个输入
5
3
```
✅ 正常运行

### 3. 提交评测
- 运行测试时使用的是手动输入
- 提交评测时使用的是系统测试用例
- 两者是独立的

## 对比

| 功能 | 运行测试 | 提交评测 |
|------|---------|---------|
| 输入方式 | 手动输入框 | 系统测试用例 |
| 测试次数 | 单次 | 多个测试用例 |
| 评分 | 无 | 自动评分 |
| 保存记录 | 不保存 | 保存到数据库 |
| 用途 | 调试和验证 | 正式提交 |

## 工作流程

```
1. 阅读题目要求
   ↓
2. 编写代码
   ↓
3. 在输入框输入测试数据
   ↓
4. 点击"运行测试"
   ↓
5. 查看输出结果
   ↓
6. 如果不正确，修改代码并重复步骤 3-5
   ↓
7. 确认正确后，点击"提交代码"
   ↓
8. 系统自动评测
```

## 界面截图说明

输入框位置：
```
┌─────────────────────────────────┐
│  代码编辑器                      │
│  (编写代码的地方)                │
│                                 │
└─────────────────────────────────┘
┌─────────────────────────────────┐
│  📝 测试输入（可选） ❓          │
│  ┌───────────────────────────┐  │
│  │ 请输入测试数据...         │  │
│  │ 5                         │  │
│  │ 3                         │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
[运行测试] [提交代码] [保存草稿]
```

## 总结

✅ 前端已添加输入框
✅ 后端已支持输入参数
✅ 完整的输入输出流程
✅ 友好的用户界面
✅ 详细的帮助提示

现在学生可以在运行测试时输入数据了！🎉
